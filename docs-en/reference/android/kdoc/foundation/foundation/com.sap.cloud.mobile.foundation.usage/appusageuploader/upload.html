<HTML>
<HEAD>
<meta charset="UTF-8">
<title>AppUsageUploader.upload - foundation</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">foundation</a>&nbsp;/&nbsp;<a href="../index.html">com.sap.cloud.mobile.foundation.usage</a>&nbsp;/&nbsp;<a href="index.html">AppUsageUploader</a>&nbsp;/&nbsp;<a href="./upload.html">upload</a><br/>
<br/>
<h1>upload</h1>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload()"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code><br/>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload()"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Uploads the usage records associated with the system default target ID to the CPMS server asynchronously using <code>AsyncTask</code> internally. </p>
<p>Note: This method must be called in the UI(main) thread. If the caller has set up <code><a href="uploadlistener/index.html">UploadListener</a></code>, its callback methods will be invoked in UI thread. </p>
<p><strong>Preconditions</strong>: </p>
<p>1. <code>AppUsage.initialize(Context, SettingsParameters, char[])</code> has been called already. </p>
<p>2. <code><a href="#">com.sap.cloud.mobile.foundation.usage.AppUsageRecord</a></code>s have been reported and persisted using methods provided by <code><a href="../appusage/index.html">AppUsage</a></code>. </p>
<p>3. <code><a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></code> has been called. </p>
<p><strong>Steps</strong>: </p>
<p>1. Takes a snapshot to collect usage records associated with the given target ID reported so far. </p>
<p>2. Converts the snapshot to the JSON format required by mobile services. </p>
<p>3. Uploads the formatted data to the specified SAP server URL. </p>
<p>4. Removes the uploaded records from the secure usage store upon successful upload.</p>
<h3>Exceptions</h3>
<p><a name="IllegalStateException"></a>
<code>IllegalStateException</code> - If there are on-going usage upload, i.e., previous <code>upload</code> call has not completed yet.</p>
<p><strong>See Also</strong><br/>
<a href="adduploadlistener.html">#addUploadListener(UploadListener)</a><a href="cancelupload.html">#cancelUpload()</a></p>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient)"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient)/httpClient">httpClient</span><span class="symbol">:</span>&nbsp;<span class="identifier">OkHttpClient</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Uploads the usage records associated with the system default target ID to the CPMS server asynchronously using <code>AsyncTask</code> internally. </p>
<p>Note: This method must be called in the UI(main) thread. If the caller has set up <code><a href="uploadlistener/index.html">UploadListener</a></code>, its callback methods will be invoked in UI thread. </p>
<p><strong>Preconditions</strong>: </p>
<p>1. <code>AppUsage.initialize(Context, SettingsParameters, char[])</code> has been called already. </p>
<p>2. <code><a href="#">com.sap.cloud.mobile.foundation.usage.AppUsageRecord</a></code>s have been reported and persisted using methods provided by <code><a href="../appusage/index.html">AppUsage</a></code>. </p>
<p>3. <code><a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></code> has been called. </p>
<p><strong>Steps</strong>: </p>
<p>1. Takes a snapshot to collect usage records associated with the given target ID reported so far. </p>
<p>2. Converts the snapshot to the JSON format required by mobile services. </p>
<p>3. Uploads the formatted data to the specified SAP server URL. </p>
<p>4. Removes the uploaded records from the secure usage store upon successful upload.</p>
<h3>Parameters</h3>
<p><a name="httpClient"></a>
<code>httpClient</code> - <span class="identifier">OkHttpClient</span><span class="symbol">:</span> An <code>OkHttpClient</code> that has the mobile services session already established</p>
<h3>Exceptions</h3>
<p><a name="IllegalStateException"></a>
<code>IllegalStateException</code> - If there are on-going usage upload, i.e., previous <code>upload</code> call has not completed yet.</p>
<p><strong>See Also</strong><br/>
<a href="adduploadlistener.html">#addUploadListener(UploadListener)</a><a href="cancelupload.html">#cancelUpload()</a></p>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(kotlin.String)"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(kotlin.String)/targetId">targetId</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Uploads the usage records associated with the specified target ID to the CPMS server asynchronously using <code>AsyncTask</code> internally. </p>
<p>Note: This method must be called in the UI(main) thread. If the caller has set up <code><a href="uploadlistener/index.html">UploadListener</a></code>, its callback methods will be invoked in UI thread. </p>
<p><strong>Preconditions</strong>: </p>
<p>1. <code>AppUsage.initialize(Context, SettingsParameters, char[])</code> has been called already. </p>
<p>2. <code><a href="#">com.sap.cloud.mobile.foundation.usage.AppUsageRecord</a></code>s have been reported and persisted using methods provided by <code><a href="../appusage/index.html">AppUsage</a></code>. </p>
<p>3. <code><a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></code> has been called. </p>
<p><strong>Steps</strong>: </p>
<p>1. Takes a snapshot to collect usage records associated with the given target ID reported so far. </p>
<p>2. Converts the snapshot to the JSON format required by mobile services. </p>
<p>3. Uploads the formatted data to the specified SAP server URL. </p>
<p>4. Removes the uploaded records from the secure usage store upon successful upload.</p>
<h3>Parameters</h3>
<p><a name="targetId"></a>
<code>targetId</code> - <span class="identifier">String</span><span class="symbol">:</span> the targetID to create the snapshot</p>
<h3>Exceptions</h3>
<p><a name="IllegalStateException"></a>
<code>IllegalStateException</code> - If there are on-going usage upload, i.e., previous <code>upload</code> call has not completed yet.</p>
<p><strong>See Also</strong><br/>
<a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></p>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient, kotlin.String)"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient, kotlin.String)/httpClient">httpClient</span><span class="symbol">:</span>&nbsp;<span class="identifier">OkHttpClient</span><span class="symbol">, </span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient, kotlin.String)/targetId">targetId</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Uploads the usage records associated with the specified target ID to the CPMS server asynchronously using <code>AsyncTask</code> internally. </p>
<p>Note: This method must be called in the UI(main) thread. If the caller has set up <code><a href="uploadlistener/index.html">UploadListener</a></code>, its callback methods will be invoked in UI thread. </p>
<p><strong>Preconditions</strong>: </p>
<p>1. <code>AppUsage.initialize(Context, SettingsParameters, char[])</code> has been called already. </p>
<p>2. <code><a href="#">com.sap.cloud.mobile.foundation.usage.AppUsageRecord</a></code>s have been reported and persisted using methods provided by <code><a href="../appusage/index.html">AppUsage</a></code>. </p>
<p>3. <code><a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></code> has been called. </p>
<p><strong>Steps</strong>: </p>
<p>1. Takes a snapshot to collect usage records associated with the given target ID reported so far. </p>
<p>2. Converts the snapshot to the JSON format required by mobile services. </p>
<p>3. Uploads the formatted data to the specified SAP server URL. </p>
<p>4. Removes the uploaded records from the secure usage store upon successful upload.</p>
<h3>Parameters</h3>
<p><a name="httpClient"></a>
<code>httpClient</code> - <span class="identifier">OkHttpClient</span><span class="symbol">:</span> An <code>OkHttpClient</code> that has the mobile services session already established</p>
<p><a name="targetId"></a>
<code>targetId</code> - <span class="identifier">String</span><span class="symbol">:</span> the targetID to create the snapshot</p>
<h3>Exceptions</h3>
<p><a name="IllegalStateException"></a>
<code>IllegalStateException</code> - If there are on-going usage upload, i.e., previous <code>upload</code> call has not completed yet.</p>
<p><strong>See Also</strong><br/>
<a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></p>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient)"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient)/httpClient">httpClient</span><span class="symbol">:</span>&nbsp;<span class="identifier">OkHttpClient</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Uploads the usage records associated with the system default target ID to the CPMS server asynchronously using <code>AsyncTask</code> internally. </p>
<p>Note: This method must be called in the UI(main) thread. If the caller has set up <code><a href="uploadlistener/index.html">UploadListener</a></code>, its callback methods will be invoked in UI thread. </p>
<p><strong>Preconditions</strong>: </p>
<p>1. <code>AppUsage.initialize(Context, SettingsParameters, char[])</code> has been called already. </p>
<p>2. <code><a href="#">com.sap.cloud.mobile.foundation.usage.AppUsageRecord</a></code>s have been reported and persisted using methods provided by <code><a href="../appusage/index.html">AppUsage</a></code>. </p>
<p>3. <code><a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></code> has been called. </p>
<p><strong>Steps</strong>: </p>
<p>1. Takes a snapshot to collect usage records associated with the given target ID reported so far. </p>
<p>2. Converts the snapshot to the JSON format required by mobile services. </p>
<p>3. Uploads the formatted data to the specified SAP server URL. </p>
<p>4. Removes the uploaded records from the secure usage store upon successful upload.</p>
<h3>Parameters</h3>
<p><a name="httpClient"></a>
<code>httpClient</code> - <span class="identifier">OkHttpClient</span><span class="symbol">:</span> An <code>OkHttpClient</code> that has the mobile services session already established</p>
<h3>Exceptions</h3>
<p><a name="IllegalStateException"></a>
<code>IllegalStateException</code> - If there are on-going usage upload, i.e., previous <code>upload</code> call has not completed yet.</p>
<p><strong>See Also</strong><br/>
<a href="adduploadlistener.html">#addUploadListener(UploadListener)</a><a href="cancelupload.html">#cancelUpload()</a></p>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(kotlin.String)"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(kotlin.String)/targetId">targetId</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Uploads the usage records associated with the specified target ID to the CPMS server asynchronously using <code>AsyncTask</code> internally. </p>
<p>Note: This method must be called in the UI(main) thread. If the caller has set up <code><a href="uploadlistener/index.html">UploadListener</a></code>, its callback methods will be invoked in UI thread. </p>
<p><strong>Preconditions</strong>: </p>
<p>1. <code>AppUsage.initialize(Context, SettingsParameters, char[])</code> has been called already. </p>
<p>2. <code><a href="#">com.sap.cloud.mobile.foundation.usage.AppUsageRecord</a></code>s have been reported and persisted using methods provided by <code><a href="../appusage/index.html">AppUsage</a></code>. </p>
<p>3. <code><a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></code> has been called. </p>
<p><strong>Steps</strong>: </p>
<p>1. Takes a snapshot to collect usage records associated with the given target ID reported so far. </p>
<p>2. Converts the snapshot to the JSON format required by mobile services. </p>
<p>3. Uploads the formatted data to the specified SAP server URL. </p>
<p>4. Removes the uploaded records from the secure usage store upon successful upload.</p>
<h3>Parameters</h3>
<p><a name="targetId"></a>
<code>targetId</code> - <span class="identifier">String</span><span class="symbol">:</span> the targetID to create the snapshot</p>
<h3>Exceptions</h3>
<p><a name="IllegalStateException"></a>
<code>IllegalStateException</code> - If there are on-going usage upload, i.e., previous <code>upload</code> call has not completed yet.</p>
<p><strong>See Also</strong><br/>
<a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></p>
<a name="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient, kotlin.String)"></a>
<code><span class="keyword">static</span> <span class="keyword">fun </span><span class="identifier">upload</span><span class="symbol">(</span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient, kotlin.String)/httpClient">httpClient</span><span class="symbol">:</span>&nbsp;<span class="identifier">OkHttpClient</span><span class="symbol">, </span><span class="identifier">@NonNull</span> <span class="identifier" id="com.sap.cloud.mobile.foundation.usage.AppUsageUploader$upload(okhttp3.OkHttpClient, kotlin.String)/targetId">targetId</span><span class="symbol">:</span>&nbsp;<span class="identifier">String</span><span class="symbol">)</span><span class="symbol">: </span><span class="identifier">Unit</span></code>
<p>Uploads the usage records associated with the specified target ID to the CPMS server asynchronously using <code>AsyncTask</code> internally. </p>
<p>Note: This method must be called in the UI(main) thread. If the caller has set up <code><a href="uploadlistener/index.html">UploadListener</a></code>, its callback methods will be invoked in UI thread. </p>
<p><strong>Preconditions</strong>: </p>
<p>1. <code>AppUsage.initialize(Context, SettingsParameters, char[])</code> has been called already. </p>
<p>2. <code><a href="#">com.sap.cloud.mobile.foundation.usage.AppUsageRecord</a></code>s have been reported and persisted using methods provided by <code><a href="../appusage/index.html">AppUsage</a></code>. </p>
<p>3. <code><a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></code> has been called. </p>
<p><strong>Steps</strong>: </p>
<p>1. Takes a snapshot to collect usage records associated with the given target ID reported so far. </p>
<p>2. Converts the snapshot to the JSON format required by mobile services. </p>
<p>3. Uploads the formatted data to the specified SAP server URL. </p>
<p>4. Removes the uploaded records from the secure usage store upon successful upload.</p>
<h3>Parameters</h3>
<p><a name="httpClient"></a>
<code>httpClient</code> - <span class="identifier">OkHttpClient</span><span class="symbol">:</span> An <code>OkHttpClient</code> that has the mobile services session already established</p>
<p><a name="targetId"></a>
<code>targetId</code> - <span class="identifier">String</span><span class="symbol">:</span> the targetID to create the snapshot</p>
<h3>Exceptions</h3>
<p><a name="IllegalStateException"></a>
<code>IllegalStateException</code> - If there are on-going usage upload, i.e., previous <code>upload</code> call has not completed yet.</p>
<p><strong>See Also</strong><br/>
<a href="adduploadlistener.html">#addUploadListener(UploadListener)</a></p>
</BODY>
</HTML>
